<!--
    This is the index for a project website under the Digipen Institute of Technology Curriculum.
-->

<!DOCTYPE html>

<!-- prevent bot scrapping -->
<meta name="robots" content="noindex, nofollow">


<html>
<head>
    <title>Website Project</title>
    <!-- link css -->
    <link rel="stylesheet" type="text/css" href="css/stylesheet.css">
    
    <!-- set text encoding and set localized view -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <h2>
        Welcome
    </h2>
    <br>
    <br>
    <p>I hope you like <br />the design...</p>
    <br>
    <bodyIP>
        <p><strong>IP Address:</strong> <span id="ip-address"></span></p>
        <p><strong>Country:</strong> <span id="country"></span></p>
        <p><strong>Region:</strong> <span id="region"></span></p>
        <p><strong>City:</strong> <span id="city"></span></p>
        <p><strong>Latitude:</strong> <span id="latitude"></span></p>
        <p><strong>Longitude:</strong> <span id="longitude"></span></p>
    </bodyIP>
    <btn id="myButton">Click Me!</btn>
    <div id="output"></div>

    <!-- load bootstrap js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous">

    </script>
    <!-- load script.js -->
    <script src="scripts/scripts.js"></script>
    <!-- load logs.js -->
    <script src="scripts/cookies.js"></script>
    <!-- load bots.php -->
    <script src="scripts/bots.php"></script>
    <script>
        function getIPAddress() {
            fetch('https://api.ipify.org?format=json')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('ip-address').innerText = data.ip;
                    getGeolocation(data.ip);
                })
                .catch(error => console.error('Error fetching IP address:', error));
        }

        function getGeolocation(ip) {
            fetch(`https://ipapi.co/${ip}/json/`)
                .then(response => response.json())
                .then(data => {
                    document.getElementById('country').innerText = data.country_name;
                    document.getElementById('region').innerText = data.region;
                    document.getElementById('city').innerText = data.city;
                    document.getElementById('latitude').innerText = data.latitude;
                    document.getElementById('longitude').innerText = data.longitude;
                })
                .catch(error => console.error('Error fetching geolocation:', error));
        }

        window.onload = getIPAddress;
    </script>

</body>
</html> 